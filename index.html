<!DOCTYPE html>
<html lang="ru">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Stanbot Blox 3D</title>
<style>
  body, html { margin:0; padding:0; height:100%; overflow:hidden; font-family: Arial, sans-serif;}
  body { background: linear-gradient(to bottom, #001f3f, #0074D9); color:white; display:flex; justify-content:center; align-items:center; flex-direction:column;}
  h1 { font-size: 3em; text-align:center; background: linear-gradient(to right, red, green, blue); -webkit-background-clip: text; -webkit-text-fill-color: transparent; animation: hue 5s infinite linear; }
  @keyframes hue { 0% {filter:hue-rotate(0deg);} 100% {filter:hue-rotate(360deg);} }

  button { padding: 15px 30px; font-size: 18px; margin:10px; cursor:pointer; border:none; border-radius:10px; background: #ff4136; color:white; }

  #registration, #menu, #modes, #game { display:none; flex-direction:column; align-items:center; justify-content:center; width:100%; height:100%; }

  input { padding:10px; font-size:16px; margin:5px; border-radius:5px; border:none; }
</style>
</head>
<body>

<!-- Главный экран -->
<div id="main">
  <h1>Stanbot Blox</h1>
  <button id="playBtn">Играть</button>
</div>

<!-- Регистрация -->
<div id="registration">
  <h2>Регистрация</h2>
  <input type="text" id="nickname" placeholder="Никнейм"><br>
  <input type="password" id="password" placeholder="Пароль"><br>
  <label><input type="checkbox" id="remember"> Запомнить меня</label><br>
  <button id="registerBtn">Войти</button>
</div>

<!-- Меню -->
<div id="menu">
  <h2 id="displayNick"></h2>
  <button id="storeBtn">Магазин</button>
  <button id="playMenuBtn">Играть</button>
</div>

<!-- Выбор режима -->
<div id="modes">
  <h2>Выберите режим</h2>
  <button id="soloBtn">Одиночный</button>
  <button disabled>Онлайн (Недоступен)</button>
</div>

<!-- 3D Мир -->
<div id="game"></div>

<!-- Three.js -->
<script src="https://cdn.jsdelivr.net/npm/three@0.152.2/build/three.min.js"></script>
<script>
  const main = document.getElementById('main');
  const registration = document.getElementById('registration');
  const menu = document.getElementById('menu');
  const modes = document.getElementById('modes');
  const gameDiv = document.getElementById('game');
  const displayNick = document.getElementById('displayNick');

  const playBtn = document.getElementById('playBtn');
  const registerBtn = document.getElementById('registerBtn');
  const playMenuBtn = document.getElementById('playMenuBtn');
  const soloBtn = document.getElementById('soloBtn');

  // Кнопка Играть на главном экране
  playBtn.onclick = () => {
    alert("Поверните телефон в горизонтальное положение!");
    main.style.display = 'none';
    registration.style.display = 'flex';
  }

  // Регистрация
  registerBtn.onclick = () => {
    const nick = document.getElementById('nickname').value;
    const pass = document.getElementById('password').value;
    const remember = document.getElementById('remember').checked;

    if(nick && pass){
      if(remember){
        localStorage.setItem('nick', nick);
        localStorage.setItem('pass', pass);
      }
      registration.style.display = 'none';
      menu.style.display = 'flex';
      displayNick.textContent = nick;
    } else {
      alert("Введите ник и пароль!");
    }
  }

  // Кнопка Играть в меню
  playMenuBtn.onclick = () => {
    menu.style.display = 'none';
    modes.style.display = 'flex';
  }

  // Режим одиночный
  soloBtn.onclick = () => {
    modes.style.display = 'none';
    gameDiv.style.display = 'block';
    init3D();
  }

  // 3D мир через Three.js
  function init3D(){
    const scene = new THREE.Scene();
    const camera = new THREE.PerspectiveCamera(75, window.innerWidth/window.innerHeight, 0.1, 1000);
    const renderer = new THREE.WebGLRenderer();
    renderer.setSize(window.innerWidth, window.innerHeight);
    gameDiv.appendChild(renderer.domElement);

    const geometry = new THREE.BoxGeometry();
    const material = new THREE.MeshBasicMaterial({color:0x00ff00});
    const cube = new THREE.Mesh(geometry, material);
    scene.add(cube);

    camera.position.z = 5;

    function animate(){
      requestAnimationFrame(animate);
      cube.rotation.x += 0.01;
      cube.rotation.y += 0.01;
      renderer.render(scene, camera);
    }
    animate();
  }
</script>

</body>
</html>
